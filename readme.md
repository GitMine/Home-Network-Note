🚧 **Under Construction** 🚧

目前家里使用的是省心版本，稍后慢慢更新上来。

## 项目说明

    记录搭建家用兼顾学习和娱乐网络环境的一些事情，以及折腾过的一些硬件的小经验。

### 目的

| 功能 |备份数据|数据交换|无线接入|数据同步|workflow|开发学习|游戏娱乐|
| --- | --- | --- | --- | --- | --- | --- | --- |
| **核心** | 安全 | 高速 | 安全 | 无感知 | 易定制 | 流畅 | 流畅 |
| **重要** | 高效 | 易用 | 简单 | 准确| 省心 | 省心 | 舒适 |
| **可选** | 易用 | 安全 | 快速 | 全平台 | - | 冗余保障 | - |


## 历史设备列表

    如果你考虑入手一些设备(主机/路由/网卡/显示器/储存/移动设备/娱乐/...)，或许可以从这里得到一些参考消息。

[不完整清单](./device-list-history.md) | [屏幕历史状态](./display-history.md)

## 保持联网设备清单

目前屋子在线设备资源(屌丝省钱方案):

> 宽带资源
> 如果这个季度联通光纤稳定，就剔除掉小区宽带

| 资源类型 | 明细 | 备注 |
| --- | --- | --- |
| 北京联通 | 50M | 迅雷快鸟提速到100M |
| 北京双线 | 50M | 可以多拨到7~9MB/s的小区宽带 |

> 💻 主机资源
> 提供运算能力的设备们

| 资源类型 | 明细 | 备注 |
| --- | --- | --- |
| 公司机器 | MacBook Pro | 2014年，i7 2.2GHz，16GBRAM，Retina，千兆LAN & 5G WIFI |
| 编码机器 | MacBook Pro | 2014年，i7 2.5GHz，16GBRAM，Retina，千兆LAN & 5G WIFI |
| 资源机器 | HASEE Z7 | 2015年，i7 2.6GHz，32GBRAM，千兆LAN & 5G WIFI |
| 功能机器 | N3700组装机 | 2016年，N3700 1.6GHz，8GBRAM，千兆LANx4 & 5G WIFI |

> 储存资源
> 用来持久化保存资料

| 资源类型 | 明细 | 备注 |
| --- | --- | --- |
| 主要备份 | WD MY CLOUD 4T | 2014年，千兆LAN |
| 辅助备份 | WD MY CLOUD 3T | 2015年，千兆LAN |
| 临时储存 | N3520 组装机 | 2016年，N3520 2.166GHz，4GBRAM，千兆LAN |
| 长期备份 | Canon G3800 | 2016年，打印才是真的持久化稳定保存方案 |

> 移动设备
> 强依赖无线进行交互的设备

| 资源类型 | 明细 | 备注 |
| --- | --- | --- |
| 平板 | iPad Air2 | 2015年，5G WIFI & 4G & 128G(改) |
| 爪机 | S7E | 2016年，5G WIFI & 4G |
| 游戏机 | PSVx2 | 2015年，2G WIFI |
| 游戏机 | 3DSx2 | 2015年，2G WIFI |

> 路由网关
> 核心的节点，和网络质量和部分安全息息相关

| 资源类型 | 明细 | 备注 |
| --- | --- | --- |
| 交换机 | NETGEAR GS308 | 2016年，8口千兆交换机 |
| 路由器 | NETGEAR WNDR4300 | 2014年，全千兆，双频，双128MB，其实蛮靠谱的，入了两台了 |
| 路由器 | Xiaomi Mini 第一版 | 2015年/2016年，刷机之后蛮稳定的，硬伤是百兆LAN口，入了三台了 |
| 路由器 | Xiaomi Mini 青春版 | 2016年，功耗极低，入了一台 |

> 智能设备
> 所谓智能不过是可编程或者扩展了原有的使用者能力

| 资源类型 | 明细 | 备注 |
| --- | --- | --- |
| 网络插座 | 控客 x5 | 2015年，app真心不是太好用，接口切换状态的时候经常重发... |
| 网络摄像头 | 水滴 x1 | 2015年之前用的小米，后来换了360水滴 |

- 历史设备: (已断电)
    - 工控机 N270, 945GM x2 (双网口x1, 单网口x1), D525 x1, D425 x1

## 需求分析

### 保持工作习惯，保持熟悉感

> 尽可能利用系统优势，但是保证一定的方案可替代性

- 一般事务使用 `Mac OSX`，MBP不更换系统。
- 持续编码使用 `Mac OSX`，MBP系统底层环境尽可能干净。
- 游戏娱乐使用 `iOS`/`Windows`/`游戏机`，获得最广泛的资料参考和软件支持。
- 发布测试集中构建使用虚拟化方案，保证环境独立和结果稳定。

### 跨设备开发的可能性，保持一定的灵活性

- 可以接受牺牲一定的性能，或者在某种场景下不是最优方案，但是要保障灵活性。
- 项目构建发布流程期望通用，且可以方便移植到其他系统的机器上，需要使用虚拟化方式实现。
    - 虚拟化技术方案：虚拟机 && Docker
    - 虚拟化系统选择：非Win和OSX之外，系统基础镜像选择 Ubuntu/CentOS/Alpine

### 娱乐体验相对友好(todo)

- 为了玩使命召唤，使用Z7作为Windows下的娱乐机。
- 高速网络利用： 
  - 两个路由分别接入不同的宽带线路，使用不同的DNS和主机隧道进行网络质量提升，并提供冗余网络保障，并区分插座/摄像头和常规使用的线路，避免线路满载，使用效果不佳。
  - 应用路由和软路由QoS保障内网千兆数据交换流畅。
  - 无线利用，详见 #无线使用#
  - 有线利用，详见 #有线使用#
- 持续集成工具功能需求：
    - 版本控制
    - 代码编译
    - 代码构建
    - 代码同步（自用不一定使用打包分发的方式）
    - 代码测试 & Lint
    - 切换发布版本和环境（灰度）
- 发布流程想折腾的需求：
    - 分离环境
        - 日常（本地+虚拟机）
        - 预发（虚拟机二套环境）
        - 线上（远程VPSx3）
    - 分离代码
        - 服务脚本（偏后）
       - 前端资源
       - 数据层代码（DB）
    - CLI TRIGGER EVENT
- 无缝写码环境 && 无缝测试环境
    - 路由表策略 && DHCP半动态
- 无缝DLNA使用

## 具体实践

- [组件家用迷你服务器](./build-mini-home-server.md)
- [基础网络使用](network.md)
- [远程访问及数据交换](remote.md)
- [无线使用](wifi.md)
- [日志收集和查看](log.md)
- [虚拟机使用](vm.md)
- [有线使用](lan.md)

## 一些观点

- [2016年上半年 自组x86软路由/迷你服务器的一些考虑](./think-about-x86-route-2016.md)


